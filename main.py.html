<html>
<head>
<title>main.py</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
.s1 { color: #629755; font-style: italic;}
.s2 { color: #cc7832;}
.s3 { color: #808080;}
.s4 { color: #6897bb;}
.s5 { color: #6a8759;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
main.py</font>
</center></td></tr></table>
<pre>
<span class="s1">&quot;&quot;&quot; 
Platformer Game 
&quot;&quot;&quot;</span>
<span class="s2">import </span><span class="s0">math</span>
<span class="s2">import </span><span class="s0">os</span>
<span class="s2">import </span><span class="s0">arcade</span>

<span class="s3"># Constants</span>
<span class="s0">SCREEN_WIDTH = </span><span class="s4">1200</span>
<span class="s0">SCREEN_HEIGHT = </span><span class="s4">750</span>
<span class="s0">SCREEN_TITLE = </span><span class="s5">&quot;Platformer&quot;</span>

<span class="s3"># Constants used to scale our sprites from their original size</span>
<span class="s0">TILE_SCALING = </span><span class="s4">0.5</span>
<span class="s0">CHARACTER_SCALING = TILE_SCALING * </span><span class="s4">1.8</span>
<span class="s0">COIN_SCALING = TILE_SCALING</span>
<span class="s0">SPRITE_PIXEL_SIZE = </span><span class="s4">128</span>
<span class="s0">GRID_PIXEL_SIZE = SPRITE_PIXEL_SIZE * TILE_SCALING</span>

<span class="s3"># Shooting Constants</span>
<span class="s0">SPRITE_SCALING_LASER = </span><span class="s4">0.9</span>
<span class="s0">SHOOT_SPEED = </span><span class="s4">1</span>
<span class="s0">BULLET_SPEED = </span><span class="s4">10</span>
<span class="s0">BULLET_DAMAGE = </span><span class="s4">15</span>

<span class="s3"># Movement speed of player, in pixels per frame</span>
<span class="s0">PLAYER_MOVEMENT_SPEED = </span><span class="s4">7</span>
<span class="s0">GRAVITY = </span><span class="s4">1.5</span>
<span class="s0">PLAYER_JUMP_SPEED = </span><span class="s4">25</span>

<span class="s3"># How many pixels to keep as a minimum margin between the character</span>
<span class="s3"># and the edge of the screen.</span>
<span class="s0">LEFT_VIEWPORT_MARGIN = </span><span class="s4">300</span>
<span class="s0">RIGHT_VIEWPORT_MARGIN = </span><span class="s4">300</span>
<span class="s0">BOTTOM_VIEWPORT_MARGIN = </span><span class="s4">150</span>
<span class="s0">TOP_VIEWPORT_MARGIN = </span><span class="s4">100</span>

<span class="s0">PLAYER_START_X = </span><span class="s4">2</span>
<span class="s0">PLAYER_START_Y = </span><span class="s4">1</span>

<span class="s3"># Constants used to track if the player is facing left or right</span>
<span class="s0">RIGHT_FACING = </span><span class="s4">0</span>
<span class="s0">LEFT_FACING = </span><span class="s4">1</span>

<span class="s0">LAYER_NAME_MOVING_PLATFORMS = </span><span class="s5">&quot;Moving Platforms&quot;</span>
<span class="s0">LAYER_NAME_PLATFORMS = </span><span class="s5">&quot;Platforms&quot;</span>
<span class="s0">LAYER_NAME_COINS = </span><span class="s5">&quot;Coins&quot;</span>
<span class="s0">LAYER_NAME_BACKGROUND = </span><span class="s5">&quot;Background&quot;</span>
<span class="s0">LAYER_NAME_LADDERS = </span><span class="s5">&quot;Ladders&quot;</span>
<span class="s0">LAYER_NAME_PLAYER = </span><span class="s5">&quot;Player&quot;</span>
<span class="s0">LAYER_NAME_ENEMIES = </span><span class="s5">&quot;Enemies&quot;</span>
<span class="s0">LAYER_NAME_BULLETS = </span><span class="s5">&quot;Bullets&quot;</span>


<span class="s2">def </span><span class="s0">load_texture_pair(filename):</span>
    <span class="s1">&quot;&quot;&quot; 
    Load a texture pair, with the second being a mirror image. 
    &quot;&quot;&quot;</span>
    <span class="s2">return </span><span class="s0">[</span>
        <span class="s0">arcade.load_texture(filename)</span><span class="s2">,</span>
        <span class="s0">arcade.load_texture(filename</span><span class="s2">, </span><span class="s0">flipped_horizontally=</span><span class="s2">True</span><span class="s0">)</span><span class="s2">,</span>
    <span class="s0">]</span>


<span class="s2">class </span><span class="s0">Entity(arcade.Sprite):</span>
    <span class="s2">def </span><span class="s0">__init__(self</span><span class="s2">, </span><span class="s0">name_folder</span><span class="s2">, </span><span class="s0">name_file):</span>
        <span class="s0">super().__init__()</span>

        <span class="s3"># Default to facing right</span>
        <span class="s0">self.facing_direction = RIGHT_FACING</span>

        <span class="s3"># Used for image sequences</span>
        <span class="s0">self.cur_texture = </span><span class="s4">0</span>
        <span class="s0">self.scale = CHARACTER_SCALING</span>

        <span class="s0">main_path = </span><span class="s5">f&quot;:resources:images/animated_characters/</span><span class="s2">{</span><span class="s0">name_folder</span><span class="s2">}</span><span class="s5">/</span><span class="s2">{</span><span class="s0">name_file</span><span class="s2">}</span><span class="s5">&quot;</span>

        <span class="s0">self.idle_texture_pair = load_texture_pair(</span><span class="s5">f&quot;</span><span class="s2">{</span><span class="s0">main_path</span><span class="s2">}</span><span class="s5">_idle.png&quot;</span><span class="s0">)</span>
        <span class="s0">self.jump_texture_pair = load_texture_pair(</span><span class="s5">f&quot;</span><span class="s2">{</span><span class="s0">main_path</span><span class="s2">}</span><span class="s5">_jump.png&quot;</span><span class="s0">)</span>
        <span class="s0">self.fall_texture_pair = load_texture_pair(</span><span class="s5">f&quot;</span><span class="s2">{</span><span class="s0">main_path</span><span class="s2">}</span><span class="s5">_fall.png&quot;</span><span class="s0">)</span>

        <span class="s3"># Load textures for walking</span>
        <span class="s0">self.walk_textures = []</span>
        <span class="s2">for </span><span class="s0">i </span><span class="s2">in </span><span class="s0">range(</span><span class="s4">8</span><span class="s0">):</span>
            <span class="s0">texture = load_texture_pair(</span><span class="s5">f&quot;</span><span class="s2">{</span><span class="s0">main_path</span><span class="s2">}</span><span class="s5">_walk</span><span class="s2">{</span><span class="s0">i</span><span class="s2">}</span><span class="s5">.png&quot;</span><span class="s0">)</span>
            <span class="s0">self.walk_textures.append(texture)</span>

        <span class="s3"># Load textures for climbing</span>
        <span class="s0">self.climbing_textures = []</span>
        <span class="s0">texture = arcade.load_texture(</span><span class="s5">f&quot;</span><span class="s2">{</span><span class="s0">main_path</span><span class="s2">}</span><span class="s5">_climb0.png&quot;</span><span class="s0">)</span>
        <span class="s0">self.climbing_textures.append(texture)</span>
        <span class="s0">texture = arcade.load_texture(</span><span class="s5">f&quot;</span><span class="s2">{</span><span class="s0">main_path</span><span class="s2">}</span><span class="s5">_climb1.png&quot;</span><span class="s0">)</span>
        <span class="s0">self.climbing_textures.append(texture)</span>

        <span class="s3"># Set the initial texture</span>
        <span class="s0">self.texture = self.idle_texture_pair[</span><span class="s4">0</span><span class="s0">]</span>

        <span class="s3"># Hit box will be set based on the first image used. If you want to specify</span>
        <span class="s3"># a different hit box, you can do it like the code below.</span>
        <span class="s3"># self.set_hit_box([[-22, -64], [22, -64], [22, 28], [-22, 28]])</span>
        <span class="s0">self.set_hit_box(self.texture.hit_box_points)</span>


<span class="s2">class </span><span class="s0">Enemy(Entity):</span>
    <span class="s2">def </span><span class="s0">__init__(self</span><span class="s2">, </span><span class="s0">name_folder</span><span class="s2">, </span><span class="s0">name_file):</span>

        <span class="s3"># Setup parent class</span>
        <span class="s0">super().__init__(name_folder</span><span class="s2">, </span><span class="s0">name_file)</span>

        <span class="s0">self.should_update_walk = </span><span class="s4">0</span>
        <span class="s0">self.health = </span><span class="s4">200</span>

    <span class="s2">def </span><span class="s0">update_animation(self</span><span class="s2">, </span><span class="s0">delta_time: float = </span><span class="s4">1 </span><span class="s0">/ </span><span class="s4">45</span><span class="s0">):</span>

        <span class="s3"># Figure out if we need to flip face left or right</span>
        <span class="s2">if </span><span class="s0">self.change_x &lt; </span><span class="s4">0 </span><span class="s2">and </span><span class="s0">self.facing_direction == RIGHT_FACING:</span>
            <span class="s0">self.facing_direction = LEFT_FACING</span>
        <span class="s2">elif </span><span class="s0">self.change_x &gt; </span><span class="s4">0 </span><span class="s2">and </span><span class="s0">self.facing_direction == LEFT_FACING:</span>
            <span class="s0">self.facing_direction = RIGHT_FACING</span>

        <span class="s3"># Idle animation</span>
        <span class="s2">if </span><span class="s0">self.change_x == </span><span class="s4">0</span><span class="s0">:</span>
            <span class="s0">self.texture = self.idle_texture_pair[self.facing_direction]</span>
            <span class="s2">return</span>

        <span class="s3"># Walking animation</span>
        <span class="s2">if </span><span class="s0">self.should_update_walk == </span><span class="s4">2</span><span class="s0">:</span>
            <span class="s0">self.cur_texture += </span><span class="s4">1</span>
            <span class="s2">if </span><span class="s0">self.cur_texture &gt; </span><span class="s4">7</span><span class="s0">:</span>
                <span class="s0">self.cur_texture = </span><span class="s4">0</span>
            <span class="s0">self.texture = self.walk_textures[self.cur_texture][self.facing_direction]</span>
            <span class="s0">self.should_update_walk = </span><span class="s4">0</span>
            <span class="s2">return</span>

        <span class="s0">self.should_update_walk += </span><span class="s4">1</span>


<span class="s2">class </span><span class="s0">RobotEnemy(Enemy):</span>
    <span class="s2">def </span><span class="s0">__init__(self):</span>

        <span class="s3"># Set up parent class</span>
        <span class="s0">super().__init__(</span><span class="s5">&quot;robot&quot;</span><span class="s2">, </span><span class="s5">&quot;robot&quot;</span><span class="s0">)</span>

        <span class="s0">self.health = </span><span class="s4">2275</span>


<span class="s2">class </span><span class="s0">ZombieEnemy(Enemy):</span>
    <span class="s2">def </span><span class="s0">__init__(self):</span>

        <span class="s3"># Set up parent class</span>
        <span class="s0">super().__init__(</span><span class="s5">&quot;zombie&quot;</span><span class="s2">, </span><span class="s5">&quot;zombie&quot;</span><span class="s0">)</span>

        <span class="s0">self.health = </span><span class="s4">2000</span>


<span class="s2">class </span><span class="s0">PlayerCharacter(Entity):</span>
    <span class="s1">&quot;&quot;&quot;Player Sprite&quot;&quot;&quot;</span>

    <span class="s2">def </span><span class="s0">__init__(self):</span>

        <span class="s3"># Set up parent class</span>
        <span class="s0">super().__init__(</span><span class="s5">&quot;male_adventurer&quot;</span><span class="s2">, </span><span class="s5">&quot;maleAdventurer&quot;</span><span class="s0">)</span>

        <span class="s3"># Track our state</span>
        <span class="s0">self.jumping = </span><span class="s2">False</span>
        <span class="s0">self.climbing = </span><span class="s2">False</span>
        <span class="s0">self.is_on_ladder = </span><span class="s2">False</span>

    <span class="s2">def </span><span class="s0">update_animation(self</span><span class="s2">, </span><span class="s0">delta_time: float = </span><span class="s4">1 </span><span class="s0">/ </span><span class="s4">60</span><span class="s0">):</span>

        <span class="s3"># Figure out if we need to flip face left or right</span>
        <span class="s2">if </span><span class="s0">self.change_x &lt; </span><span class="s4">0 </span><span class="s2">and </span><span class="s0">self.facing_direction == RIGHT_FACING:</span>
            <span class="s0">self.facing_direction = LEFT_FACING</span>
        <span class="s2">elif </span><span class="s0">self.change_x &gt; </span><span class="s4">0 </span><span class="s2">and </span><span class="s0">self.facing_direction == LEFT_FACING:</span>
            <span class="s0">self.facing_direction = RIGHT_FACING</span>

        <span class="s3"># Climbing animation</span>
        <span class="s2">if </span><span class="s0">self.is_on_ladder:</span>
            <span class="s0">self.climbing = </span><span class="s2">True</span>
        <span class="s2">if not </span><span class="s0">self.is_on_ladder </span><span class="s2">and </span><span class="s0">self.climbing:</span>
            <span class="s0">self.climbing = </span><span class="s2">False</span>
        <span class="s2">if </span><span class="s0">self.climbing </span><span class="s2">and </span><span class="s0">abs(self.change_y) &gt; </span><span class="s4">1</span><span class="s0">:</span>
            <span class="s0">self.cur_texture += </span><span class="s4">1</span>
            <span class="s2">if </span><span class="s0">self.cur_texture &gt; </span><span class="s4">7</span><span class="s0">:</span>
                <span class="s0">self.cur_texture = </span><span class="s4">0</span>
        <span class="s2">if </span><span class="s0">self.climbing:</span>
            <span class="s0">self.texture = self.climbing_textures[self.cur_texture // </span><span class="s4">4</span><span class="s0">]</span>
            <span class="s2">return</span>

        <span class="s3"># Jumping animation</span>
        <span class="s2">if </span><span class="s0">self.change_y &gt; </span><span class="s4">0 </span><span class="s2">and not </span><span class="s0">self.is_on_ladder:</span>
            <span class="s0">self.texture = self.jump_texture_pair[self.facing_direction]</span>
            <span class="s2">return</span>
        <span class="s2">elif </span><span class="s0">self.change_y &lt; </span><span class="s4">0 </span><span class="s2">and not </span><span class="s0">self.is_on_ladder:</span>
            <span class="s0">self.texture = self.fall_texture_pair[self.facing_direction]</span>
            <span class="s2">return</span>

        <span class="s3"># Idle animation</span>
        <span class="s2">if </span><span class="s0">self.change_x == </span><span class="s4">0</span><span class="s0">:</span>
            <span class="s0">self.texture = self.idle_texture_pair[self.facing_direction]</span>
            <span class="s2">return</span>

        <span class="s3"># Walking animation</span>
        <span class="s0">self.cur_texture += </span><span class="s4">1</span>
        <span class="s2">if </span><span class="s0">self.cur_texture &gt; </span><span class="s4">7</span><span class="s0">:</span>
            <span class="s0">self.cur_texture = </span><span class="s4">0</span>
        <span class="s0">self.texture = self.walk_textures[self.cur_texture][self.facing_direction]</span>


<span class="s2">class </span><span class="s0">MainMenu(arcade.View):</span>
    <span class="s1">&quot;&quot;&quot;Class that manages the 'menu' view.&quot;&quot;&quot;</span>

    <span class="s2">def </span><span class="s0">on_show_view(self):</span>
        <span class="s1">&quot;&quot;&quot;Called when switching to this view.&quot;&quot;&quot;</span>
        <span class="s0">arcade.set_background_color(arcade.color.WHITE)</span>

    <span class="s2">def </span><span class="s0">on_draw(self):</span>
        <span class="s1">&quot;&quot;&quot;Draw the menu&quot;&quot;&quot;</span>
        <span class="s0">self.clear()</span>
        <span class="s0">arcade.draw_text(</span>
            <span class="s5">&quot;Shooting Platformer Game&quot;</span><span class="s2">,</span>
            <span class="s0">SCREEN_WIDTH / </span><span class="s4">2</span><span class="s2">,</span>
            <span class="s0">SCREEN_HEIGHT / </span><span class="s4">2</span><span class="s2">,</span>
            <span class="s0">arcade.color.BLACK</span><span class="s2">,</span>
            <span class="s4">40</span><span class="s2">,</span>
            <span class="s0">anchor_x=</span><span class="s5">&quot;center&quot;</span>
        <span class="s0">)</span>
        <span class="s0">arcade.draw_text(</span><span class="s5">&quot;Shoot all the enemies!&quot;</span><span class="s2">,</span>
                         <span class="s4">585</span><span class="s2">,</span>
                         <span class="s4">300</span><span class="s2">,</span>
                         <span class="s0">arcade.color.RED</span><span class="s2">,</span>
                         <span class="s4">25</span><span class="s2">,</span>
                         <span class="s0">anchor_x=</span><span class="s5">&quot;center&quot;</span><span class="s0">)</span>
        <span class="s0">arcade.draw_text(</span><span class="s5">&quot;** Q to shoot&quot;</span><span class="s2">,</span>
                         <span class="s4">585</span><span class="s2">,</span>
                         <span class="s4">270</span><span class="s2">,</span>
                         <span class="s0">arcade.color.BLACK</span><span class="s2">,</span>
                         <span class="s4">20</span><span class="s2">,</span>
                         <span class="s0">anchor_x=</span><span class="s5">&quot;center&quot;</span><span class="s0">)</span>
        <span class="s0">arcade.draw_text(</span><span class="s5">&quot;Click to Play&quot;</span><span class="s2">,</span>
                         <span class="s4">585</span><span class="s2">,</span>
                         <span class="s4">100</span><span class="s2">,</span>
                         <span class="s0">arcade.color.BLACK</span><span class="s2">,</span>
                         <span class="s4">30</span><span class="s2">,</span>
                         <span class="s0">anchor_x=</span><span class="s5">&quot;center&quot;</span><span class="s0">)</span>


    <span class="s2">def </span><span class="s0">on_mouse_press(self</span><span class="s2">, </span><span class="s0">_x</span><span class="s2">, </span><span class="s0">_y</span><span class="s2">, </span><span class="s0">_button</span><span class="s2">, </span><span class="s0">_modifiers):</span>
        <span class="s1">&quot;&quot;&quot;Use a mouse press to advance to the 'game' view.&quot;&quot;&quot;</span>
        <span class="s0">game_view = GameView()</span>
        <span class="s0">self.window.show_view(game_view)</span>


<span class="s2">class </span><span class="s0">GameView(arcade.View):</span>
    <span class="s1">&quot;&quot;&quot; 
    Main application class. 
    &quot;&quot;&quot;</span>

    <span class="s2">def </span><span class="s0">__init__(self):</span>
        <span class="s1">&quot;&quot;&quot; 
        Initializer for the game 
        &quot;&quot;&quot;</span>
        <span class="s0">super().__init__()</span>

        <span class="s3"># Set the path to start with this program</span>
        <span class="s0">file_path = os.path.dirname(os.path.abspath(__file__))</span>
        <span class="s0">os.chdir(file_path)</span>

        <span class="s3"># Track the current state of what key is pressed</span>
        <span class="s0">self.left_pressed = </span><span class="s2">False</span>
        <span class="s0">self.right_pressed = </span><span class="s2">False</span>
        <span class="s0">self.up_pressed = </span><span class="s2">False</span>
        <span class="s0">self.down_pressed = </span><span class="s2">False</span>
        <span class="s0">self.shoot_pressed = </span><span class="s2">False</span>
        <span class="s0">self.jump_needs_reset = </span><span class="s2">False</span>

        <span class="s3"># Our TileMap Object</span>
        <span class="s0">self.tile_map = </span><span class="s2">None</span>

        <span class="s3"># Our Scene Object</span>
        <span class="s0">self.scene = </span><span class="s2">None</span>

        <span class="s3"># Separate variable that holds the player sprite</span>
        <span class="s0">self.player_sprite = </span><span class="s2">None</span>

        <span class="s3"># Our 'physics' engine</span>
        <span class="s0">self.physics_engine = </span><span class="s2">None</span>

        <span class="s3"># A Camera that can be used for scrolling the screen</span>
        <span class="s0">self.camera = </span><span class="s2">None</span>

        <span class="s3"># A Camera that can be used to draw GUI elements</span>
        <span class="s0">self.gui_camera = </span><span class="s2">None</span>

        <span class="s0">self.end_of_map = </span><span class="s4">0</span>

        <span class="s3"># Keep track of the score</span>
        <span class="s0">self.score = </span><span class="s4">0</span>

        <span class="s3"># Shooting mechanics</span>
        <span class="s0">self.can_shoot = </span><span class="s2">False</span>
        <span class="s0">self.shoot_timer = </span><span class="s4">0</span>

        <span class="s3"># Load sounds</span>
        <span class="s0">self.collect_coin_sound = arcade.load_sound(</span><span class="s5">&quot;:resources:sounds/coin1.wav&quot;</span><span class="s0">)</span>
        <span class="s0">self.jump_sound = arcade.load_sound(</span><span class="s5">&quot;:resources:sounds/jump1.wav&quot;</span><span class="s0">)</span>
        <span class="s0">self.game_over = arcade.load_sound(</span><span class="s5">&quot;:resources:sounds/gameover1.wav&quot;</span><span class="s0">)</span>
        <span class="s0">self.shoot_sound = arcade.load_sound(</span><span class="s5">&quot;:resources:sounds/hurt5.wav&quot;</span><span class="s0">)</span>
        <span class="s0">self.hit_sound = arcade.load_sound(</span><span class="s5">&quot;:resources:sounds/hit5.wav&quot;</span><span class="s0">)</span>

    <span class="s2">def </span><span class="s0">setup(self):</span>
        <span class="s1">&quot;&quot;&quot;Set up the game here. Call this function to restart the game.&quot;&quot;&quot;</span>

        <span class="s3"># Set up the Cameras</span>
        <span class="s0">self.camera = arcade.Camera(self.window.width</span><span class="s2">, </span><span class="s0">self.window.height)</span>
        <span class="s0">self.gui_camera = arcade.Camera(self.window.width</span><span class="s2">, </span><span class="s0">self.window.height)</span>

        <span class="s3"># Map name</span>
        <span class="s0">map_name = </span><span class="s5">&quot;:resources:tiled_maps/map_with_ladders.json&quot;</span>

        <span class="s3"># Layer Specific Options for the Tilemap</span>
        <span class="s0">layer_options = {</span>
            <span class="s0">LAYER_NAME_PLATFORMS: {</span>
                <span class="s5">&quot;use_spatial_hash&quot;</span><span class="s0">: </span><span class="s2">True,</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s0">LAYER_NAME_MOVING_PLATFORMS: {</span>
                <span class="s5">&quot;use_spatial_hash&quot;</span><span class="s0">: </span><span class="s2">False,</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s0">LAYER_NAME_LADDERS: {</span>
                <span class="s5">&quot;use_spatial_hash&quot;</span><span class="s0">: </span><span class="s2">True,</span>
            <span class="s0">}</span><span class="s2">,</span>
            <span class="s0">LAYER_NAME_COINS: {</span>
                <span class="s5">&quot;use_spatial_hash&quot;</span><span class="s0">: </span><span class="s2">True,</span>
            <span class="s0">}</span><span class="s2">,</span>
        <span class="s0">}</span>

        <span class="s3"># Load in TileMap</span>
        <span class="s0">self.tile_map = arcade.load_tilemap(map_name</span><span class="s2">, </span><span class="s0">TILE_SCALING</span><span class="s2">, </span><span class="s0">layer_options)</span>

        <span class="s3"># Initiate New Scene with our TileMap, this will automatically add all layers</span>
        <span class="s3"># from the map as SpriteLists in the scene in the proper order.</span>
        <span class="s0">self.scene = arcade.Scene.from_tilemap(self.tile_map)</span>

        <span class="s3"># Keep track of the score</span>
        <span class="s0">self.score = </span><span class="s4">0</span>

        <span class="s3"># Shooting mechanics</span>
        <span class="s0">self.can_shoot = </span><span class="s2">True</span>
        <span class="s0">self.shoot_timer = </span><span class="s4">0</span>

        <span class="s3"># Set up the player, specifically placing it at these coordinates.</span>
        <span class="s0">self.player_sprite = PlayerCharacter()</span>
        <span class="s0">self.player_sprite.center_x = (</span>
            <span class="s0">self.tile_map.tile_width * TILE_SCALING * PLAYER_START_X</span>
        <span class="s0">)</span>
        <span class="s0">self.player_sprite.center_y = (</span>
            <span class="s0">self.tile_map.tile_height * TILE_SCALING * PLAYER_START_Y</span>
        <span class="s0">)</span>
        <span class="s0">self.scene.add_sprite(LAYER_NAME_PLAYER</span><span class="s2">, </span><span class="s0">self.player_sprite)</span>

        <span class="s3"># Calculate the right edge of the my_map in pixels</span>
        <span class="s0">self.end_of_map = self.tile_map.width * GRID_PIXEL_SIZE</span>

        <span class="s3"># -- Enemies</span>
        <span class="s0">enemies_layer = self.tile_map.object_lists[LAYER_NAME_ENEMIES]</span>

        <span class="s2">for </span><span class="s0">my_object </span><span class="s2">in </span><span class="s0">enemies_layer:</span>
            <span class="s0">cartesian = self.tile_map.get_cartesian(</span>
                <span class="s0">my_object.shape[</span><span class="s4">0</span><span class="s0">]</span><span class="s2">, </span><span class="s0">my_object.shape[</span><span class="s4">1</span><span class="s0">]</span>
            <span class="s0">)</span>
            <span class="s0">enemy_type = my_object.properties[</span><span class="s5">&quot;type&quot;</span><span class="s0">]</span>
            <span class="s2">if </span><span class="s0">enemy_type == </span><span class="s5">&quot;robot&quot;</span><span class="s0">:</span>
                <span class="s0">enemy = RobotEnemy()</span>
            <span class="s2">elif </span><span class="s0">enemy_type == </span><span class="s5">&quot;zombie&quot;</span><span class="s0">:</span>
                <span class="s0">enemy = ZombieEnemy()</span>
            <span class="s0">enemy.center_x = math.floor(</span>
                <span class="s0">cartesian[</span><span class="s4">0</span><span class="s0">] * TILE_SCALING * self.tile_map.tile_width</span>
            <span class="s0">)</span>
            <span class="s0">enemy.center_y = math.floor(</span>
                <span class="s0">(cartesian[</span><span class="s4">1</span><span class="s0">] + </span><span class="s4">1</span><span class="s0">) * (self.tile_map.tile_height * TILE_SCALING)</span>
            <span class="s0">)</span>
            <span class="s2">if </span><span class="s5">&quot;boundary_left&quot; </span><span class="s2">in </span><span class="s0">my_object.properties:</span>
                <span class="s0">enemy.boundary_left = my_object.properties[</span><span class="s5">&quot;boundary_left&quot;</span><span class="s0">]</span>
            <span class="s2">if </span><span class="s5">&quot;boundary_right&quot; </span><span class="s2">in </span><span class="s0">my_object.properties:</span>
                <span class="s0">enemy.boundary_right = my_object.properties[</span><span class="s5">&quot;boundary_right&quot;</span><span class="s0">]</span>
            <span class="s2">if </span><span class="s5">&quot;change_x&quot; </span><span class="s2">in </span><span class="s0">my_object.properties:</span>
                <span class="s0">enemy.change_x = my_object.properties[</span><span class="s5">&quot;change_x&quot;</span><span class="s0">]</span>
            <span class="s0">self.scene.add_sprite(LAYER_NAME_ENEMIES</span><span class="s2">, </span><span class="s0">enemy)</span>

        <span class="s3"># Add bullet spritelist to Scene</span>
        <span class="s0">self.scene.add_sprite_list(LAYER_NAME_BULLETS)</span>

        <span class="s3"># --- Other stuff</span>
        <span class="s3"># Set the background color</span>
        <span class="s2">if </span><span class="s0">self.tile_map.background_color:</span>
            <span class="s0">arcade.set_background_color(self.tile_map.background_color)</span>

            <span class="s0">arcade.set_background_color(arcade.csscolor.LIGHT_SKY_BLUE)</span>


        <span class="s3"># Create the 'physics engine'</span>
        <span class="s0">self.physics_engine = arcade.PhysicsEnginePlatformer(</span>
            <span class="s0">self.player_sprite</span><span class="s2">,</span>
            <span class="s0">platforms=self.scene[LAYER_NAME_MOVING_PLATFORMS]</span><span class="s2">,</span>
            <span class="s0">gravity_constant=GRAVITY</span><span class="s2">,</span>
            <span class="s0">ladders=self.scene[LAYER_NAME_LADDERS]</span><span class="s2">,</span>
            <span class="s0">walls=self.scene[LAYER_NAME_PLATFORMS]</span>
        <span class="s0">)</span>

    <span class="s2">def </span><span class="s0">on_show_view(self):</span>
        <span class="s0">self.setup()</span>

    <span class="s2">def </span><span class="s0">on_draw(self):</span>
        <span class="s1">&quot;&quot;&quot;Render the screen.&quot;&quot;&quot;</span>

        <span class="s3"># Clear the screen to the background color</span>
        <span class="s0">self.clear()</span>

        <span class="s3"># Activate the game camera</span>
        <span class="s0">self.camera.use()</span>

        <span class="s3"># Draw our Scene</span>
        <span class="s0">self.scene.draw()</span>

        <span class="s3"># Activate the GUI camera before drawing GUI elements</span>
        <span class="s0">self.gui_camera.use()</span>

        <span class="s3"># Draw our score on the screen, scrolling it with the viewport</span>
        <span class="s0">score_text = </span><span class="s5">f&quot;Point Achieved: </span><span class="s2">{</span><span class="s0">self.score</span><span class="s2">}</span><span class="s5">&quot;</span>
        <span class="s0">arcade.draw_text(</span>
            <span class="s0">score_text</span><span class="s2">,</span>
            <span class="s4">30</span><span class="s2">,</span>
            <span class="s4">700</span><span class="s2">,</span>
            <span class="s0">arcade.csscolor.WHITE</span><span class="s2">,</span>
            <span class="s4">20</span><span class="s2">,</span>
        <span class="s0">)</span>

        <span class="s3"># Draw hit boxes.</span>
        <span class="s3"># for wall in self.wall_list:</span>
        <span class="s3">#     wall.draw_hit_box(arcade.color.BLACK, 3)</span>
        <span class="s3">#</span>
        <span class="s3"># self.player_sprite.draw_hit_box(arcade.color.RED, 3)</span>

    <span class="s2">def </span><span class="s0">process_keychange(self):</span>
        <span class="s1">&quot;&quot;&quot; 
        Called when we change a key up/down or we move on/off a ladder. 
        &quot;&quot;&quot;</span>
        <span class="s3"># Process up/down</span>
        <span class="s2">if </span><span class="s0">self.up_pressed </span><span class="s2">and not </span><span class="s0">self.down_pressed:</span>
            <span class="s2">if </span><span class="s0">self.physics_engine.is_on_ladder():</span>
                <span class="s0">self.player_sprite.change_y = PLAYER_MOVEMENT_SPEED</span>
            <span class="s2">elif </span><span class="s0">(</span>
                <span class="s0">self.physics_engine.can_jump(y_distance=</span><span class="s4">10</span><span class="s0">)</span>
                <span class="s2">and not </span><span class="s0">self.jump_needs_reset</span>
            <span class="s0">):</span>
                <span class="s0">self.player_sprite.change_y = PLAYER_JUMP_SPEED</span>
                <span class="s0">self.jump_needs_reset = </span><span class="s2">True</span>
                <span class="s0">arcade.play_sound(self.jump_sound)</span>
        <span class="s2">elif </span><span class="s0">self.down_pressed </span><span class="s2">and not </span><span class="s0">self.up_pressed:</span>
            <span class="s2">if </span><span class="s0">self.physics_engine.is_on_ladder():</span>
                <span class="s0">self.player_sprite.change_y = -PLAYER_MOVEMENT_SPEED</span>

        <span class="s3"># Process up/down when on a ladder and no movement</span>
        <span class="s2">if </span><span class="s0">self.physics_engine.is_on_ladder():</span>
            <span class="s2">if not </span><span class="s0">self.up_pressed </span><span class="s2">and not </span><span class="s0">self.down_pressed:</span>
                <span class="s0">self.player_sprite.change_y = </span><span class="s4">0</span>
            <span class="s2">elif </span><span class="s0">self.up_pressed </span><span class="s2">and </span><span class="s0">self.down_pressed:</span>
                <span class="s0">self.player_sprite.change_y = </span><span class="s4">0</span>

        <span class="s3"># Process left/right</span>
        <span class="s2">if </span><span class="s0">self.right_pressed </span><span class="s2">and not </span><span class="s0">self.left_pressed:</span>
            <span class="s0">self.player_sprite.change_x = PLAYER_MOVEMENT_SPEED</span>
        <span class="s2">elif </span><span class="s0">self.left_pressed </span><span class="s2">and not </span><span class="s0">self.right_pressed:</span>
            <span class="s0">self.player_sprite.change_x = -PLAYER_MOVEMENT_SPEED</span>
        <span class="s2">else</span><span class="s0">:</span>
            <span class="s0">self.player_sprite.change_x = </span><span class="s4">0</span>

    <span class="s2">def </span><span class="s0">on_key_press(self</span><span class="s2">, </span><span class="s0">key</span><span class="s2">, </span><span class="s0">modifiers):</span>
        <span class="s1">&quot;&quot;&quot;Called whenever a key is pressed.&quot;&quot;&quot;</span>

        <span class="s2">if </span><span class="s0">key == arcade.key.Q:</span>
            <span class="s0">self.shoot_pressed = </span><span class="s2">True</span>

        <span class="s2">if </span><span class="s0">key == arcade.key.UP </span><span class="s2">or </span><span class="s0">key == arcade.key.W:</span>
            <span class="s0">self.up_pressed = </span><span class="s2">True</span>
        <span class="s2">elif </span><span class="s0">key == arcade.key.DOWN </span><span class="s2">or </span><span class="s0">key == arcade.key.S:</span>
            <span class="s0">self.down_pressed = </span><span class="s2">True</span>
        <span class="s2">elif </span><span class="s0">key == arcade.key.LEFT </span><span class="s2">or </span><span class="s0">key == arcade.key.A:</span>
            <span class="s0">self.left_pressed = </span><span class="s2">True</span>
        <span class="s2">elif </span><span class="s0">key == arcade.key.RIGHT </span><span class="s2">or </span><span class="s0">key == arcade.key.D:</span>
            <span class="s0">self.right_pressed = </span><span class="s2">True</span>

        <span class="s0">self.process_keychange()</span>

    <span class="s2">def </span><span class="s0">on_key_release(self</span><span class="s2">, </span><span class="s0">key</span><span class="s2">, </span><span class="s0">modifiers):</span>
        <span class="s1">&quot;&quot;&quot;Called when the user releases a key.&quot;&quot;&quot;</span>

        <span class="s2">if </span><span class="s0">key == arcade.key.UP </span><span class="s2">or </span><span class="s0">key == arcade.key.W:</span>
            <span class="s0">self.up_pressed = </span><span class="s2">False</span>
            <span class="s0">self.jump_needs_reset = </span><span class="s2">False</span>
        <span class="s2">elif </span><span class="s0">key == arcade.key.DOWN </span><span class="s2">or </span><span class="s0">key == arcade.key.S:</span>
            <span class="s0">self.down_pressed = </span><span class="s2">False</span>
        <span class="s2">elif </span><span class="s0">key == arcade.key.LEFT </span><span class="s2">or </span><span class="s0">key == arcade.key.A:</span>
            <span class="s0">self.left_pressed = </span><span class="s2">False</span>
        <span class="s2">elif </span><span class="s0">key == arcade.key.RIGHT </span><span class="s2">or </span><span class="s0">key == arcade.key.D:</span>
            <span class="s0">self.right_pressed = </span><span class="s2">False</span>

        <span class="s2">if </span><span class="s0">key == arcade.key.Q:</span>
            <span class="s0">self.shoot_pressed = </span><span class="s2">False</span>

        <span class="s0">self.process_keychange()</span>


    <span class="s2">def </span><span class="s0">center_camera_to_player(self</span><span class="s2">, </span><span class="s0">speed=</span><span class="s4">0.2</span><span class="s0">):</span>
        <span class="s0">screen_center_x = self.camera.scale * (self.player_sprite.center_x - (self.camera.viewport_width / </span><span class="s4">2</span><span class="s0">))</span>
        <span class="s0">screen_center_y = self.camera.scale * (self.player_sprite.center_y - (self.camera.viewport_height / </span><span class="s4">2</span><span class="s0">))</span>
        <span class="s2">if </span><span class="s0">screen_center_x &lt; </span><span class="s4">0</span><span class="s0">:</span>
            <span class="s0">screen_center_x = </span><span class="s4">0</span>
        <span class="s2">if </span><span class="s0">screen_center_y &lt; </span><span class="s4">0</span><span class="s0">:</span>
            <span class="s0">screen_center_y = </span><span class="s4">0</span>
        <span class="s0">player_centered = (screen_center_x</span><span class="s2">, </span><span class="s0">screen_center_y)</span>

        <span class="s0">self.camera.move_to(player_centered</span><span class="s2">, </span><span class="s0">speed)</span>

    <span class="s2">def </span><span class="s0">on_update(self</span><span class="s2">, </span><span class="s0">delta_time):</span>
        <span class="s1">&quot;&quot;&quot;Movement and game logic&quot;&quot;&quot;</span>

        <span class="s3"># Move the player with the physics engine</span>
        <span class="s0">self.physics_engine.update()</span>

        <span class="s3"># Update animations</span>
        <span class="s2">if </span><span class="s0">self.physics_engine.can_jump():</span>
            <span class="s0">self.player_sprite.can_jump = </span><span class="s2">False</span>
        <span class="s2">else</span><span class="s0">:</span>
            <span class="s0">self.player_sprite.can_jump = </span><span class="s2">True</span>

        <span class="s2">if </span><span class="s0">self.physics_engine.is_on_ladder() </span><span class="s2">and not </span><span class="s0">self.physics_engine.can_jump():</span>
            <span class="s0">self.player_sprite.is_on_ladder = </span><span class="s2">True</span>
            <span class="s0">self.process_keychange()</span>
        <span class="s2">else</span><span class="s0">:</span>
            <span class="s0">self.player_sprite.is_on_ladder = </span><span class="s2">False</span>
            <span class="s0">self.process_keychange()</span>

        <span class="s2">if </span><span class="s0">self.can_shoot:</span>
            <span class="s2">if </span><span class="s0">self.shoot_pressed:</span>
                <span class="s0">arcade.play_sound(self.shoot_sound)</span>
                <span class="s0">bullet = arcade.Sprite(</span>
                    <span class="s5">&quot;:resources:images/space_shooter/laserBlue01.png&quot;</span><span class="s2">,</span>
                    <span class="s0">SPRITE_SCALING_LASER</span><span class="s2">,</span>
                <span class="s0">)</span>

                <span class="s2">if </span><span class="s0">self.player_sprite.facing_direction == RIGHT_FACING:</span>
                    <span class="s0">bullet.change_x = BULLET_SPEED</span>
                <span class="s2">else</span><span class="s0">:</span>
                    <span class="s0">bullet.change_x = -BULLET_SPEED</span>

                <span class="s0">bullet.center_x = self.player_sprite.center_x</span>
                <span class="s0">bullet.center_y = self.player_sprite.center_y</span>

                <span class="s0">self.scene.add_sprite(LAYER_NAME_BULLETS</span><span class="s2">, </span><span class="s0">bullet)</span>

                <span class="s0">self.can_shoot = </span><span class="s2">True</span>
        <span class="s2">else</span><span class="s0">:</span>
            <span class="s0">self.shoot_timer += </span><span class="s4">1</span>
            <span class="s2">if </span><span class="s0">self.shoot_timer == SHOOT_SPEED:</span>
                <span class="s0">self.can_shoot = </span><span class="s2">True</span>
                <span class="s0">self.shoot_timer = </span><span class="s4">1</span>

        <span class="s3"># Update Animations</span>
        <span class="s0">self.scene.update_animation(</span>
            <span class="s0">delta_time</span><span class="s2">,</span>
            <span class="s0">[</span>
                <span class="s0">LAYER_NAME_COINS</span><span class="s2">,</span>
                <span class="s0">LAYER_NAME_BACKGROUND</span><span class="s2">,</span>
                <span class="s0">LAYER_NAME_PLAYER</span><span class="s2">,</span>
                <span class="s0">LAYER_NAME_ENEMIES</span><span class="s2">,</span>
            <span class="s0">]</span><span class="s2">,</span>
        <span class="s0">)</span>

        <span class="s3"># Update moving platforms, enemies, and bullets</span>
        <span class="s0">self.scene.update(</span>
            <span class="s0">[LAYER_NAME_MOVING_PLATFORMS</span><span class="s2">, </span><span class="s0">LAYER_NAME_ENEMIES</span><span class="s2">, </span><span class="s0">LAYER_NAME_BULLETS]</span>
        <span class="s0">)</span>

        <span class="s3"># See if the enemy hit a boundary and needs to reverse direction.</span>
        <span class="s2">for </span><span class="s0">enemy </span><span class="s2">in </span><span class="s0">self.scene[LAYER_NAME_ENEMIES]:</span>
            <span class="s2">if </span><span class="s0">(</span>
                <span class="s0">enemy.boundary_right</span>
                <span class="s2">and </span><span class="s0">enemy.right &gt; enemy.boundary_right</span>
                <span class="s2">and </span><span class="s0">enemy.change_x &gt; </span><span class="s4">0</span>
            <span class="s0">):</span>
                <span class="s0">enemy.change_x *= -</span><span class="s4">1</span>

            <span class="s2">if </span><span class="s0">(</span>
                <span class="s0">enemy.boundary_left</span>
                <span class="s2">and </span><span class="s0">enemy.left &lt; enemy.boundary_left</span>
                <span class="s2">and </span><span class="s0">enemy.change_x &lt; </span><span class="s4">0</span>
            <span class="s0">):</span>
                <span class="s0">enemy.change_x *= -</span><span class="s4">1</span>

        <span class="s2">for </span><span class="s0">bullet </span><span class="s2">in </span><span class="s0">self.scene[LAYER_NAME_BULLETS]:</span>
            <span class="s0">hit_list = arcade.check_for_collision_with_lists(</span>
                <span class="s0">bullet</span><span class="s2">,</span>
                <span class="s0">[</span>
                    <span class="s0">self.scene[LAYER_NAME_ENEMIES]</span><span class="s2">,</span>
                    <span class="s0">self.scene[LAYER_NAME_PLATFORMS]</span><span class="s2">,</span>
                    <span class="s0">self.scene[LAYER_NAME_MOVING_PLATFORMS]</span><span class="s2">,</span>
                <span class="s0">]</span><span class="s2">,</span>
            <span class="s0">)</span>

            <span class="s2">if </span><span class="s0">hit_list:</span>
                <span class="s0">bullet.remove_from_sprite_lists()</span>

                <span class="s2">for </span><span class="s0">collision </span><span class="s2">in </span><span class="s0">hit_list:</span>
                    <span class="s2">if </span><span class="s0">(</span>
                        <span class="s0">self.scene[LAYER_NAME_ENEMIES]</span>
                        <span class="s2">in </span><span class="s0">collision.sprite_lists</span>
                    <span class="s0">):</span>
                        <span class="s3"># The collision was with an enemy</span>
                        <span class="s0">collision.health -= BULLET_DAMAGE</span>

                        <span class="s2">if </span><span class="s0">collision.health &lt;= </span><span class="s4">0</span><span class="s0">:</span>
                            <span class="s0">collision.remove_from_sprite_lists()</span>
                            <span class="s0">self.score += </span><span class="s4">100</span>

                        <span class="s3"># Hit sound</span>
                        <span class="s0">arcade.play_sound(self.hit_sound)</span>

                <span class="s2">return</span>

            <span class="s2">if </span><span class="s0">(bullet.right &lt; </span><span class="s4">0</span><span class="s0">) </span><span class="s2">or </span><span class="s0">(</span>
                <span class="s0">bullet.left</span>
                <span class="s0">&gt; (self.tile_map.width * self.tile_map.tile_width) * TILE_SCALING</span>
            <span class="s0">):</span>
                <span class="s0">bullet.remove_from_sprite_lists()</span>

        <span class="s0">player_collision_list = arcade.check_for_collision_with_lists(</span>
            <span class="s0">self.player_sprite</span><span class="s2">,</span>
            <span class="s0">[</span>
                <span class="s0">self.scene[LAYER_NAME_COINS]</span><span class="s2">,</span>
                <span class="s0">self.scene[LAYER_NAME_ENEMIES]</span><span class="s2">,</span>
            <span class="s0">]</span><span class="s2">,</span>
        <span class="s0">)</span>

        <span class="s3"># Loop through each coin we hit (if any) and remove it</span>
        <span class="s2">for </span><span class="s0">collision </span><span class="s2">in </span><span class="s0">player_collision_list:</span>

            <span class="s2">if </span><span class="s0">self.scene[LAYER_NAME_ENEMIES] </span><span class="s2">in </span><span class="s0">collision.sprite_lists:</span>
                <span class="s0">arcade.play_sound(self.game_over)</span>
                <span class="s0">game_over = GameOverView()</span>
                <span class="s0">self.window.show_view(game_over)</span>
                <span class="s2">return</span>
            <span class="s2">else</span><span class="s0">:</span>
                <span class="s3"># Figure out how many points this coin is worth</span>
                <span class="s2">if </span><span class="s5">&quot;Points&quot; </span><span class="s2">not in </span><span class="s0">collision.properties:</span>
                    <span class="s0">print(</span><span class="s5">&quot;Warning, collected a coin without a Points property.&quot;</span><span class="s0">)</span>
                <span class="s2">else</span><span class="s0">:</span>
                    <span class="s0">points = int(collision.properties[</span><span class="s5">&quot;Points&quot;</span><span class="s0">])</span>
                    <span class="s0">self.score += points</span>

                <span class="s3"># Remove the coin</span>
                <span class="s0">collision.remove_from_sprite_lists()</span>
                <span class="s0">arcade.play_sound(self.collect_coin_sound)</span>

        <span class="s3"># Position the camera</span>
        <span class="s0">self.center_camera_to_player()</span>


<span class="s2">class </span><span class="s0">GameOverView(arcade.View):</span>
    <span class="s1">&quot;&quot;&quot;Class to manage the game overview&quot;&quot;&quot;</span>

    <span class="s2">def </span><span class="s0">on_show_view(self):</span>
        <span class="s1">&quot;&quot;&quot;Called when switching to this view&quot;&quot;&quot;</span>
        <span class="s0">arcade.set_background_color(arcade.color.RED)</span>

    <span class="s2">def </span><span class="s0">on_draw(self):</span>
        <span class="s1">&quot;&quot;&quot;Draw the game overview&quot;&quot;&quot;</span>
        <span class="s0">self.clear()</span>
        <span class="s0">arcade.draw_text(</span>
            <span class="s5">&quot;Game Over - Click to restart&quot;</span><span class="s2">,</span>
            <span class="s0">SCREEN_WIDTH / </span><span class="s4">2</span><span class="s2">,</span>
            <span class="s0">SCREEN_HEIGHT / </span><span class="s4">2</span><span class="s2">,</span>
            <span class="s0">arcade.color.GHOST_WHITE</span><span class="s2">,</span>
            <span class="s4">40</span><span class="s2">,</span>
            <span class="s0">anchor_x=</span><span class="s5">&quot;center&quot;</span><span class="s2">,</span>
        <span class="s0">)</span>

    <span class="s2">def </span><span class="s0">on_mouse_press(self</span><span class="s2">, </span><span class="s0">_x</span><span class="s2">, </span><span class="s0">_y</span><span class="s2">, </span><span class="s0">_button</span><span class="s2">, </span><span class="s0">_modifiers):</span>
        <span class="s1">&quot;&quot;&quot;Use a mouse press to advance to the 'game' view.&quot;&quot;&quot;</span>
        <span class="s0">game_view = GameView()</span>
        <span class="s0">self.window.show_view(game_view)</span>


<span class="s2">def </span><span class="s0">main():</span>
    <span class="s1">&quot;&quot;&quot;Main function&quot;&quot;&quot;</span>
    <span class="s0">window = arcade.Window(SCREEN_WIDTH</span><span class="s2">, </span><span class="s0">SCREEN_HEIGHT</span><span class="s2">, </span><span class="s0">SCREEN_TITLE)</span>
    <span class="s0">menu_view = MainMenu()</span>
    <span class="s0">window.show_view(menu_view)</span>
    <span class="s0">arcade.run()</span>


<span class="s2">if </span><span class="s0">__name__ == </span><span class="s5">&quot;__main__&quot;</span><span class="s0">:</span>
    <span class="s0">main()</span></pre>
</body>
</html>